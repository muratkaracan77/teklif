<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Usta AI - Fiyatlandƒ±rma</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #ff6b35, #ff8e53);
            color: white;
            padding: 25px 20px;
            text-align: center;
        }

        .header h1 {
            font-size: 1.4em;
            margin-bottom: 5px;
        }

        .screen {
            display: none;
            padding: 20px;
            min-height: 400px;
        }

        .screen.active {
            display: block;
        }

        .product-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-top: 20px;
        }

        .product-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 8px;
            border-radius: 12px;
            font-size: 0.95em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            min-height: 70px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .product-btn.selected {
            background: linear-gradient(135deg, #ff6b35, #ff8e53);
        }

        .option-grid {
            display: grid;
            gap: 10px;
            margin-top: 20px;
        }

        .option-btn {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            padding: 15px;
            border-radius: 10px;
            font-size: 1em;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }

        .option-btn.selected {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-color: #667eea;
        }

        .text-input {
            width: 100%;
            padding: 15px;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            font-size: 1em;
            margin-top: 10px;
            font-family: inherit;
        }

        .number-input {
            width: 100%;
            padding: 15px;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            font-size: 1.2em;
            font-weight: 600;
            text-align: center;
        }

        .dimension-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-top: 20px;
        }

        .dimension-input {
            width: 100%;
            padding: 15px;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            font-size: 1.1em;
            font-weight: 600;
            text-align: center;
        }

        .navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 25px;
            gap: 10px;
        }

        .nav-btn {
            flex: 1;
            padding: 15px;
            border: none;
            border-radius: 10px;
            font-size: 1em;
            font-weight: 600;
            cursor: pointer;
        }

        .back-btn {
            background: #6c757d;
            color: white;
        }

        .next-btn {
            background: linear-gradient(135deg, #28a745, #20c997);
            color: white;
        }

        .nav-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
        }

        .home-btn {
            background: linear-gradient(135deg, #ffc107, #fd7e14);
            color: white;
            border: none;
            padding: 12px;
            border-radius: 10px;
            font-size: 0.9em;
            font-weight: 600;
            cursor: pointer;
            margin-bottom: 10px;
            width: 100%;
        }

        .whatsapp-btn {
            background: linear-gradient(135deg, #25D366, #128C7E);
            color: white;
            border: none;
            padding: 18px;
            border-radius: 12px;
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            text-align: center;
            width: 100%;
            margin-top: 20px;
        }

        .section-title {
            color: #495057;
            margin: 20px 0 10px 0;
            font-size: 1.1em;
            border-left: 4px solid #ff6b35;
            padding-left: 10px;
        }

        .input-group {
            margin-bottom: 15px;
        }

        .input-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #495057;
        }

        .upload-area {
            border: 2px dashed #667eea;
            border-radius: 10px;
            padding: 30px;
            text-align: center;
            margin: 20px 0;
            background: #f8f9ff;
            cursor: pointer;
        }

        .upload-icon {
            font-size: 2em;
            margin-bottom: 10px;
        }

        .photo-preview {
            max-width: 100%;
            max-height: 200px;
            border-radius: 10px;
            margin-top: 10px;
            display: none;
        }

        .dimension-unit {
            position: relative;
        }

        .dimension-unit::after {
            content: "cm";
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: #666;
            font-weight: 600;
        }

        .camera-container {
            position: relative;
            width: 100%;
            height: 300px;
            background: #000;
            border-radius: 10px;
            overflow: hidden;
            margin: 15px 0;
        }

        #camera-preview {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .camera-controls {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 10px;
        }

        .camera-btn {
            background: rgba(255,255,255,0.9);
            border: none;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            font-size: 1.5em;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .source-buttons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-top: 15px;
        }

        .source-btn {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            padding: 15px;
            border-radius: 10px;
            font-size: 1em;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }

        .source-btn:hover {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }

        .sub-options-grid {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 8px;
            margin-top: 10px;
        }

        .sub-option-btn {
            background: #e9ecef;
            border: 1px solid #dee2e6;
            padding: 10px;
            border-radius: 8px;
            font-size: 0.9em;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }

        .sub-option-btn.selected {
            background: #495057;
            color: white;
            border-color: #495057;
        }

        .photo-summary {
            max-width: 100%;
            max-height: 150px;
            border-radius: 10px;
            margin: 10px 0;
            border: 2px solid #e9ecef;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üè† Usta AI Fiyatlandƒ±rma</h1>
            <p>Mobilyanƒ±zƒ± kolayca hesaplayƒ±n</p>
        </div>

        <!-- √úr√ºn Se√ßim Ekranƒ± -->
        <div class="screen active" id="screen-product">
            <button class="home-btn" onclick="restartApp()">üè† Ana Ekrana D√∂n</button>
            <h2>Hangi √ºr√ºn√º yaptƒ±rmak istiyorsunuz?</h2>
            <div class="product-grid">
                <button class="product-btn" data-product="MUTFAK DOLABI">üç≥ Mutfak Dolabƒ±</button>
                <button class="product-btn" data-product="GARDROP">üëî Gardƒ±rop</button>
                <button class="product-btn" data-product="≈ûƒ∞FONYER">üõèÔ∏è ≈ûifonyer</button>
                <button class="product-btn" data-product="TV √úNƒ∞TESƒ∞">üì∫ TV √únitesi</button>
                <button class="product-btn" data-product="DUVAR PANELƒ∞">üñºÔ∏è Duvar Paneli</button>
                <button class="product-btn" data-product="PORTMANTO">üß• Portmanto</button>
                <button class="product-btn" data-product="ODA KAPISI">üö™ Oda Kapƒ±sƒ±</button>
                <button class="product-btn" data-product="BANYO DOLABI">üöø Banyo Dolabƒ±</button>
                <button class="product-btn" data-product="KAHVE K√ñ≈ûESƒ∞">‚òï Kahve K√∂≈üesi</button>
                <button class="product-btn" data-product="Dƒ∞ƒûERLERƒ∞">üì¶ Diƒüerleri</button>
            </div>
            <div class="navigation">
                <button class="nav-btn back-btn" disabled>Geri</button>
                <button class="nav-btn next-btn" id="next-product" disabled>Devam</button>
            </div>
        </div>

        <!-- √ñL√á√ú EKRANI -->
        <div class="screen" id="screen-dimensions">
            <button class="home-btn" onclick="restartApp()">üè† Ana Ekrana D√∂n</button>
            <h2>√úr√ºn √∂l√ß√ºlerini girin</h2>
            
            <div class="section-title">Geni≈ülik</div>
            <div class="dimension-unit">
                <input type="number" class="dimension-input" placeholder="0" id="input-width">
            </div>

            <div class="section-title">Y√ºkseklik</div>
            <div class="dimension-unit">
                <input type="number" class="dimension-input" placeholder="0" id="input-height">
            </div>

            <div id="depth-section">
                <div class="section-title">Derinlik</div>
                <div class="dimension-unit">
                    <input type="number" class="dimension-input" placeholder="0" id="input-depth">
                </div>
            </div>

            <div class="navigation">
                <button class="nav-btn back-btn" onclick="showScreen('screen-product')">Geri</button>
                <button class="nav-btn next-btn" id="next-dimensions" disabled>Devam</button>
            </div>
        </div>

        <!-- KAPI Tƒ∞Pƒ∞ EKRANI -->
        <div class="screen" id="screen-door-type">
            <button class="home-btn" onclick="restartApp()">üè† Ana Ekrana D√∂n</button>
            <h2>Kapƒ± tipini se√ßin</h2>
            <div class="option-grid">
                <button class="option-btn" data-type="√áITALI KAPI">√áITALI KAPI</button>
                <button class="option-btn" data-type="D√úZ KAPI">D√úZ KAPI</button>
            </div>
            <div class="navigation">
                <button class="nav-btn back-btn" onclick="showScreen('screen-dimensions')">Geri</button>
                <button class="nav-btn next-btn" id="next-door-type" disabled>Devam</button>
            </div>
        </div>

        <!-- KAPI CAM DURUMU -->
        <div class="screen" id="screen-door-glass">
            <button class="home-btn" onclick="restartApp()">üè† Ana Ekrana D√∂n</button>
            <h2>Cam durumunu se√ßin</h2>
            <div class="option-grid">
                <button class="option-btn" data-glass="CAMLI KAPI">CAMLI KAPI</button>
                <button class="option-btn" data-glass="CAMSIZ KAPI">CAMSIZ KAPI</button>
            </div>
            <div class="navigation">
                <button class="nav-btn back-btn" onclick="showScreen('screen-door-type')">Geri</button>
                <button class="nav-btn next-btn" id="next-door-glass" disabled>Devam</button>
            </div>
        </div>

        <!-- KAPI SAYISI -->
        <div class="screen" id="screen-door-count">
            <button class="home-btn" onclick="restartApp()">üè† Ana Ekrana D√∂n</button>
            <h2>Ka√ß adet kapƒ±?</h2>
            <input type="number" class="number-input" placeholder="Kapƒ± sayƒ±sƒ±" id="input-door-count">
            <div class="navigation">
                <button class="nav-btn back-btn" onclick="showScreen('screen-door-glass')">Geri</button>
                <button class="nav-btn next-btn" id="next-door-count" disabled>Devam</button>
            </div>
        </div>

        <!-- G√ñVDE MALZEMESƒ∞ -->
        <div class="screen" id="screen-body">
            <button class="home-btn" onclick="restartApp()">üè† Ana Ekrana D√∂n</button>
            <h2>G√∂vde malzemesini se√ßin</h2>
            <div class="option-grid">
                <button class="option-btn" data-body="HAM MDF">HAM MDF</button>
                <button class="option-btn" data-body="MDF LAM">MDF LAM</button>
            </div>
            <div class="navigation">
                <button class="nav-btn back-btn" onclick="showScreen('screen-dimensions')">Geri</button>
                <button class="nav-btn next-btn" id="next-body" disabled>Devam</button>
            </div>
        </div>

        <!-- Y√úZEY DOKUSU -->
        <div class="screen" id="screen-texture">
            <button class="home-btn" onclick="restartApp()">üè† Ana Ekrana D√∂n</button>
            <h2>Y√ºzey dokusunu se√ßin</h2>
            <div class="option-grid">
                <button class="option-btn" data-texture="MAT">MAT</button>
                <button class="option-btn" data-texture="PARLAK">PARLAK</button>
            </div>
            <div class="navigation">
                <button class="nav-btn back-btn" onclick="showScreen('screen-body')">Geri</button>
                <button class="nav-btn next-btn" id="next-texture" disabled>Devam</button>
            </div>
        </div>

        <!-- KAPAK T√úR√ú -->
        <div class="screen" id="screen-cover-type">
            <button class="home-btn" onclick="restartApp()">üè† Ana Ekrana D√∂n</button>
            <h2>Kapak t√ºr√ºn√º se√ßin</h2>
            <div id="cover-type-options" class="option-grid">
                <!-- Dinamik olarak y√ºklenecek -->
            </div>
            <div class="navigation">
                <button class="nav-btn back-btn" onclick="showScreen('screen-texture')">Geri</button>
                <button class="nav-btn next-btn" id="next-cover-type" disabled>Devam</button>
            </div>
        </div>

        <!-- KAPAKLAR -->
        <div class="screen" id="screen-covers">
            <button class="home-btn" onclick="restartApp()">üè† Ana Ekrana D√∂n</button>
            <h2>Kapak malzemesini se√ßin</h2>
            <div class="option-grid">
                <button class="option-btn" data-cover="HAM MDF">HAM MDF</button>
                <button class="option-btn" data-cover="MDF LAM">MDF LAM</button>
                <button class="option-btn" data-cover="AL√úMƒ∞NYUM √áER√áEVE KAPAK">AL√úMƒ∞NYUM √áER√áEVE KAPAK</button>
            </div>
            <div class="navigation">
                <button class="nav-btn back-btn" onclick="showScreen('screen-cover-type')">Geri</button>
                <button class="nav-btn next-btn" id="next-covers" disabled>Devam</button>
            </div>
        </div>

        <!-- KAPAK Y√úZEY DOKUSU -->
        <div class="screen" id="screen-cover-texture">
            <button class="home-btn" onclick="restartApp()">üè† Ana Ekrana D√∂n</button>
            <h2>Kapak y√ºzey dokusunu se√ßin</h2>
            <div class="option-grid">
                <button class="option-btn" data-covertexture="MAT">MAT</button>
                <button class="option-btn" data-covertexture="PARLAK">PARLAK</button>
            </div>
            <div class="navigation">
                <button class="nav-btn back-btn" onclick="showScreen('screen-covers')">Geri</button>
                <button class="nav-btn next-btn" id="next-cover-texture" disabled>Devam</button>
            </div>
        </div>

        <!-- KAPAK T√úR√ú 2 -->
        <div class="screen" id="screen-cover-type2">
            <button class="home-btn" onclick="restartApp()">üè† Ana Ekrana D√∂n</button>
            <h2>Kapak t√ºr√ºn√º se√ßin</h2>
            <div id="cover-type2-options" class="option-grid">
                <!-- Dinamik olarak y√ºklenecek -->
            </div>
            <div class="navigation">
                <button class="nav-btn back-btn" onclick="showScreen('screen-cover-texture')">Geri</button>
                <button class="nav-btn next-btn" id="next-cover-type2" disabled>Devam</button>
            </div>
        </div>

        <!-- AL√úMƒ∞NYUM RENK -->
        <div class="screen" id="screen-aluminum-color">
            <button class="home-btn" onclick="restartApp()">üè† Ana Ekrana D√∂n</button>
            <h2>Al√ºminyum renk se√ßin</h2>
            <div class="option-grid">
                <button class="option-btn" data-color="Sƒ∞YAH">Sƒ∞YAH</button>
                <button class="option-btn" data-color="ELOKSAL">ELOKSAL</button>
                <button class="option-btn" data-color="PARLAK KROM">PARLAK KROM</button>
                <button class="option-btn" data-color="SATƒ∞NE">SATƒ∞NE</button>
                <button class="option-btn" data-color="SARI GOLD">SARI GOLD</button>
                <button class="option-btn" data-color="ANTƒ∞K SARI">ANTƒ∞K SARI</button>
                <button class="option-btn" data-color="ROSE GOLD">ROSE GOLD</button>
            </div>
            <div class="navigation">
                <button class="nav-btn back-btn" onclick="showScreen('screen-covers')">Geri</button>
                <button class="nav-btn next-btn" id="next-aluminum-color" disabled>Devam</button>
            </div>
        </div>

        <!-- SAYILAR -->
        <div class="screen" id="screen-counts">
            <button class="home-btn" onclick="restartApp()">üè† Ana Ekrana D√∂n</button>
            <h2>√áekmece ve kapak sayƒ±larƒ±nƒ± girin</h2>
            
            <div class="section-title">√áekmece Sayƒ±sƒ±</div>
            <input type="number" class="number-input" placeholder="√áekmece sayƒ±sƒ±" id="input-drawers">
            
            <div class="section-title">Kapak Sayƒ±sƒ±</div>
            <input type="number" class="number-input" placeholder="Kapak sayƒ±sƒ±" id="input-covers-count">
            
            <div class="navigation">
                <button class="nav-btn back-btn" id="back-counts">Geri</button>
                <button class="nav-btn next-btn" id="next-counts" disabled>Devam</button>
            </div>
        </div>

        <!-- AKSESUARLAR -->
        <div class="screen" id="screen-accessories">
            <button class="home-btn" onclick="restartApp()">üè† Ana Ekrana D√∂n</button>
            <h2>Aksesuar se√ßenekleri</h2>
            
            <!-- CAM SE√áENEKLERƒ∞ - TEK EKRANDA -->
            <div class="section-title">Cam</div>
            <div class="option-grid">
                <button class="option-btn" data-glass="CAMSIZ">CAMSIZ</button>
                <button class="option-btn" data-glass="CAMLI">CAMLI</button>
            </div>

            <!-- CAMLI SE√áƒ∞Lƒ∞RSE G√ñSTERƒ∞LECEK ALAN -->
            <div id="glass-details" style="display: none; margin-top: 15px;">
                <div class="section-title">Cam Kalƒ±nlƒ±ƒüƒ±</div>
                <div class="option-grid">
                    <button class="option-btn" data-thickness="4 MM">4 MM</button>
                    <button class="option-btn" data-thickness="6 MM">6 MM</button>
                    <button class="option-btn" data-thickness="8 MM">8 MM</button>
                    <button class="option-btn" data-thickness="10 MM">10 MM</button>
                </div>

                <div id="glass-surface-options" style="display: none; margin-top: 15px;">
                    <div class="section-title">Cam Y√ºzeyi (4mm i√ßin)</div>
                    <div class="option-grid">
                        <button class="option-btn" data-surface="D√úZ">D√úZ</button>
                        <button class="option-btn" data-surface="SATƒ∞NE">SATƒ∞NE</button>
                        <button class="option-btn" data-surface="REFLEKTE">REFLEKTE</button>
                        <button class="option-btn" data-surface="F√úME">F√úME</button>
                        <button class="option-btn" data-surface="NERV√úRL√ú">NERV√úRL√ú</button>
                        <button class="option-btn" data-surface="BRONZ">BRONZ</button>
                        <button class="option-btn" data-surface="Sƒ∞YAH BOYALI">Sƒ∞YAH BOYALI</button>
                    </div>
                </div>
            </div>

            <div class="section-title">Ayna</div>
            <div class="option-grid">
                <button class="option-btn" data-mirror="AYNALI">AYNALI</button>
                <button class="option-btn" data-mirror="AYNASIZ">AYNASIZ</button>
            </div>

            <div id="mirror-options" style="display: none;">
                <div class="section-title">Ayna Tipi</div>
                <div class="option-grid">
                    <button class="option-btn" data-mirrortype="F√úME">F√úME</button>
                    <button class="option-btn" data-mirrortype="BRONZ">BRONZ</button>
                    <button class="option-btn" data-mirrortype="ANTƒ∞K SARI">ANTƒ∞K SARI</button>
                    <button class="option-btn" data-mirrortype="FLOTAL">FLOTAL</button>
                </div>
            </div>

            <div class="section-title">Ray Sistemleri</div>
            <div class="option-grid">
                <button class="option-btn" data-rails="SAMET RAY">SAMET RAY</button>
                <button class="option-btn" data-rails="BLUM RAY">BLUM RAY</button>
                <button class="option-btn" data-rails="HAFELE RAY">HAFELE RAY</button>
                <button class="option-btn" data-rails="HETTICH RAY">HETTICH RAY</button>
            </div>

            <div id="rail-type-options" style="display: none;">
                <div class="section-title">Ray Tipi</div>
                <div class="sub-options-grid">
                    <button class="sub-option-btn" data-railtype="TELESKOPƒ∞K">TELESKOPƒ∞K</button>
                    <button class="sub-option-btn" data-railtype="MANDALLI">MANDALLI</button>
                    <button class="sub-option-btn" data-railtype="BASA√á">BASA√á</button>
                </div>
            </div>

            <div class="section-title">Kulp</div>
            <div class="option-grid">
                <button class="option-btn" data-handle="KULPLU">KULPLU</button>
                <button class="option-btn" data-handle="KULPSUZ">KULPSUZ</button>
            </div>

            <div class="navigation">
                <button class="nav-btn back-btn" onclick="showScreen('screen-counts')">Geri</button>
                <button class="nav-btn next-btn" id="next-accessories" disabled>Devam</button>
            </div>
        </div>

        <!-- Dƒ∞ƒûER Bƒ∞LGƒ∞LER -->
        <div class="screen" id="screen-other-info">
            <button class="home-btn" onclick="restartApp()">üè† Ana Ekrana D√∂n</button>
            <h2>Diƒüer Bilgiler</h2>
            <p style="color: #666; margin-bottom: 20px;">Eklemek istediƒüiniz diƒüer detaylarƒ± yazƒ±n</p>
            
            <div class="input-group">
                <label class="input-label">√ñzel Notlar</label>
                <textarea class="text-input" placeholder="Eklemek istediƒüiniz √∂zel notlar, detaylar, istekler..." id="input-notes" rows="4"></textarea>
            </div>

            <div class="navigation">
                <button class="nav-btn back-btn" id="back-other-info">Geri</button>
                <button class="nav-btn next-btn" id="next-other-info" disabled>Devam</button>
            </div>
        </div>

        <!-- DUVAR FOTOƒûRAFI -->
        <div class="screen" id="screen-wall-photo">
            <button class="home-btn" onclick="restartApp()">üè† Ana Ekrana D√∂n</button>
            <h2>Duvar Fotoƒürafƒ± √áekin</h2>
            <p style="color: #666; margin-bottom: 20px;">√úr√ºn√ºn uygulanacaƒüƒ± duvarƒ±n fotoƒürafƒ±nƒ± √ßekin</p>
            
            <div class="camera-container">
                <video id="camera-preview" autoplay playsinline></video>
                <div class="camera-controls">
                    <button class="camera-btn" onclick="capturePhoto()">üì∏</button>
                </div>
            </div>
            
            <div id="wall-photo-preview-container" style="display: none;">
                <div class="section-title">√áekilen Fotoƒüraf</div>
                <img id="wall-photo-preview" class="photo-preview" alt="Duvar Fotoƒürafƒ±">
            </div>

            <div class="navigation">
                <button class="nav-btn back-btn" onclick="showScreen('screen-other-info')">Geri</button>
                <button class="nav-btn next-btn" id="next-wall-photo" disabled>Devam</button>
            </div>
        </div>

        <!-- REFERANS FOTOƒûRAF -->
        <div class="screen" id="screen-reference-photo">
            <button class="home-btn" onclick="restartApp()">üè† Ana Ekrana D√∂n</button>
            <h2>Referans Fotoƒüraf Y√ºkleyin</h2>
            <p style="color: #666; margin-bottom: 20px;">Beƒüendiƒüiniz √ºr√ºn√ºn fotoƒürafƒ±nƒ± y√ºkleyin</p>
            
            <div class="upload-area" onclick="document.getElementById('reference-file-input').click()">
                <div class="upload-icon">üñºÔ∏è</div>
                <div style="font-weight: 600; margin-bottom: 5px;">Referans Fotoƒüraf Y√ºkle</div>
                <div style="color: #666; font-size: 0.9em;">Galeriden veya internetten fotoƒüraf se√ßin</div>
                <input type="file" id="reference-file-input" accept="image/*" style="display: none;" onchange="handleReferencePhotoSelect(event)">
                <img id="reference-photo-preview" class="photo-preview" alt="Referans √ñnizleme">
            </div>

            <div class="source-buttons">
                <button class="source-btn" onclick="document.getElementById('reference-file-input').click()">
                    üì± Galeriden Se√ß
                </button>
                <button class="source-btn" onclick="openImageSearch()">
                    üåê Chrome'dan Ara
                </button>
            </div>

            <div class="navigation">
                <button class="nav-btn back-btn" onclick="showScreen('screen-wall-photo')">Geri</button>
                <button class="nav-btn next-btn" id="next-reference-photo" disabled>Devam</button>
            </div>
        </div>

        <!-- Kƒ∞≈ûƒ∞SEL Bƒ∞LGƒ∞LER -->
        <div class="screen" id="screen-personal">
            <button class="home-btn" onclick="restartApp()">üè† Ana Ekrana D√∂n</button>
            <h2>ƒ∞leti≈üim bilgilerinizi girin</h2>
            
            <div class="input-group">
                <label class="input-label">Ad Soyad</label>
                <input type="text" class="text-input" placeholder="Adƒ±nƒ±z ve soyadƒ±nƒ±z" id="input-name">
            </div>

            <div class="input-group">
                <label class="input-label">Telefon Numarasƒ±</label>
                <input type="tel" class="text-input" placeholder="Telefon numaranƒ±z" id="input-phone">
            </div>

            <div class="input-group">
                <label class="input-label">Adres</label>
                <textarea class="text-input" placeholder="Teslimat adresiniz" id="input-address" rows="3"></textarea>
            </div>

            <div class="navigation">
                <button class="nav-btn back-btn" onclick="showScreen('screen-reference-photo')">Geri</button>
                <button class="nav-btn next-btn" id="next-personal" disabled>WhatsApp'tan Fiyat ƒ∞ste</button>
            </div>
        </div>

        <!-- WHATSAPP -->
        <div class="screen" id="screen-whatsapp">
            <button class="home-btn" onclick="restartApp()">üè† Ana Ekrana D√∂n</button>
            <h2>Fiyat talebiniz hazƒ±r! üéâ</h2>
            <div style="background: #f8f9fa; padding: 15px; border-radius: 10px; margin: 20px 0;">
                <div><strong>√úr√ºn:</strong> <span id="summary-product"></span></div>
                <div><strong>√ñl√ß√ºler:</strong> <span id="summary-dimensions"></span></div>
                <div id="door-details"></div>
                <div id="other-details"></div>
                <div id="glass-details-summary"></div>
                <div id="notes-details"></div>
                <div id="photo-details"></div>
                <div><strong>Ad Soyad:</strong> <span id="summary-name"></span></div>
                <div><strong>Telefon:</strong> <span id="summary-phone"></span></div>
                <div><strong>Adres:</strong> <span id="summary-address"></span></div>
            </div>
            <button class="whatsapp-btn" onclick="sendToWhatsApp()">
                üì± WhatsApp'tan G√∂nder
            </button>
            <div class="navigation">
                <button class="nav-btn back-btn" onclick="showScreen('screen-personal')">Geri</button>
                <button class="nav-btn next-btn" onclick="restartApp()">Yeni Talep</button>
            </div>
        </div>
    </div>

    <script>
        let userSelection = {
            product: '',
            dimensions: { width: '', height: '', depth: '' },
            // Kapƒ± i√ßin
            doorType: '', doorGlass: '', doorCount: '',
            // G√∂vde ve kapaklar i√ßin
            body: '', texture: '', coverType: '', 
            cover: '', coverTexture: '', coverType2: '', aluminumColor: '',
            drawers: '', coversCount: '', 
            // Aksesuarlar i√ßin
            glass: '', glassThickness: '', glassSurface: '',
            mirror: '', mirrorType: '', rails: '', railType: '', handle: '',
            // Diƒüer
            notes: '', wallPhoto: null, referencePhoto: null,
            // Ki≈üisel bilgiler
            name: '', phone: '', address: ''
        };

        let cameraStream = null;

        // DERƒ∞NLƒ∞K KONTROL√ú
        function checkDepthVisibility() {
            const depthSection = document.getElementById('depth-section');
            const noDepthProducts = ['MUTFAK DOLABI', 'DUVAR PANELƒ∞', 'ODA KAPISI'];
            
            if (noDepthProducts.includes(userSelection.product)) {
                depthSection.style.display = 'none';
                userSelection.dimensions.depth = '';
                document.getElementById('input-depth').value = '';
            } else {
                depthSection.style.display = 'block';
            }
        }

        // KAPAK T√úR√ú SE√áENEKLERƒ∞ (G√∂vde i√ßin)
        function loadCoverTypeOptions() {
            const optionsContainer = document.getElementById('cover-type-options');
            optionsContainer.innerHTML = '';

            let options = [];

            if (userSelection.body === 'HAM MDF') {
                if (userSelection.texture === 'MAT') {
                    options = ['D√úZ LAKE', 'KLAPALI LAKE', 'CNC ƒ∞≈ûLEMELƒ∞ LAKE'];
                } else if (userSelection.texture === 'PARLAK') {
                    options = ['AKRƒ∞Lƒ∞K', 'D√úZ LAKE', 'KLAPALI LAKE', 'CNC ƒ∞≈ûLEMELƒ∞ LAKE'];
                }
            } else if (userSelection.body === 'MDF LAM') {
                options = ['MDF LAM', 'LAK PANEL'];
            }

            options.forEach(option => {
                const button = document.createElement('button');
                button.className = 'option-btn';
                button.textContent = option;
                button.dataset.covertype = option;
                button.onclick = function() {
                    document.querySelectorAll('#cover-type-options .option-btn').forEach(btn => btn.classList.remove('selected'));
                    this.classList.add('selected');
                    userSelection.coverType = this.dataset.covertype;
                    document.getElementById('next-cover-type').disabled = false;
                };
                optionsContainer.appendChild(button);
            });
        }

        // KAPAK T√úR√ú SE√áENEKLERƒ∞ (Kapaklar i√ßin)
        function loadCoverType2Options() {
            const optionsContainer = document.getElementById('cover-type2-options');
            optionsContainer.innerHTML = '';

            let options = [];

            if (userSelection.cover === 'HAM MDF') {
                if (userSelection.coverTexture === 'MAT') {
                    options = ['D√úZ LAKE', 'KLAPALƒ∞ LAKE', 'CNC ƒ∞≈ûLEMELƒ∞ LAKE'];
                } else if (userSelection.coverTexture === 'PARLAK') {
                    options = ['AKRƒ∞Lƒ∞K', 'D√úZ LAKE', 'KLAPALƒ∞ LAKE', 'CNC ƒ∞≈ûLEMELƒ∞ LAKE'];
                }
            } else if (userSelection.cover === 'MDF LAM') {
                options = ['MDF LAM', 'LAK PANEL'];
            }

            options.forEach(option => {
                const button = document.createElement('button');
                button.className = 'option-btn';
                button.textContent = option;
                button.dataset.covertype2 = option;
                button.onclick = function() {
                    document.querySelectorAll('#cover-type2-options .option-btn').forEach(btn => btn.classList.remove('selected'));
                    this.classList.add('selected');
                    userSelection.coverType2 = this.dataset.covertype2;
                    document.getElementById('next-cover-type2').disabled = false;
                };
                optionsContainer.appendChild(button);
            });
        }

        // KAMERA FONKSƒ∞YONLARI - GENƒ∞≈û A√áILI
        async function startCamera() {
            try {
                const constraints = {
                    video: {
                        width: { ideal: 1920 },
                        height: { ideal: 1080 },
                        aspectRatio: { ideal: 1.777 },
                        facingMode: 'environment'
                    }
                };

                cameraStream = await navigator.mediaDevices.getUserMedia(constraints);
                const preview = document.getElementById('camera-preview');
                preview.srcObject = cameraStream;
                
            } catch (err) {
                console.error('Kamera eri≈üim hatasƒ±:', err);
                try {
                    cameraStream = await navigator.mediaDevices.getUserMedia({ 
                        video: { facingMode: 'environment' } 
                    });
                    const preview = document.getElementById('camera-preview');
                    preview.srcObject = cameraStream;
                } catch (err2) {
                    alert('Kameraya eri≈üim izni gerekiyor. L√ºtfen tarayƒ±cƒ± ayarlarƒ±ndan kamerayƒ± etkinle≈ütirin.');
                }
            }
        }

        function stopCamera() {
            if (cameraStream) {
                cameraStream.getTracks().forEach(track => track.stop());
                cameraStream = null;
            }
        }

        function capturePhoto() {
            const preview = document.getElementById('camera-preview');
            const canvas = document.createElement('canvas');
            const context = canvas.getContext('2d');
            
            canvas.width = preview.videoWidth;
            canvas.height = preview.videoHeight;
            context.drawImage(preview, 0, 0, canvas.width, canvas.height);
            
            // Fotoƒürafa ba≈ülƒ±k ekle - UYGULAMANIN YAPILACAƒûI ALAN
            context.font = 'bold 28px Arial';
            context.fillStyle = 'white';
            context.textAlign = 'center';
            context.shadowColor = 'black';
            context.shadowBlur = 8;
            context.shadowOffsetX = 2;
            context.shadowOffsetY = 2;
            context.fillText('UYGULAMANIN YAPILACAƒûI ALAN', canvas.width / 2, 50);
            
            userSelection.wallPhoto = canvas.toDataURL('image/jpeg', 0.9);
            
            const photoPreview = document.getElementById('wall-photo-preview');
            const container = document.getElementById('wall-photo-preview-container');
            photoPreview.src = userSelection.wallPhoto;
            photoPreview.style.display = 'block';
            photoPreview.style.maxWidth = '100%';
            photoPreview.style.maxHeight = '200px';
            container.style.display = 'block';
            
            document.getElementById('next-wall-photo').disabled = false;
        }

        function handleReferencePhotoSelect(event) {
            const file = event.target.files[0];
            if (file) {
                if (file.size > 5 * 1024 * 1024) {
                    alert('Dosya boyutu 5MB\'dan k√º√ß√ºk olmalƒ±dƒ±r.');
                    return;
                }
                
                const reader = new FileReader();
                reader.onload = function(e) {
                    // Referans fotoƒürafa ba≈ülƒ±k ekle
                    const img = new Image();
                    img.onload = function() {
                        const canvas = document.createElement('canvas');
                        const context = canvas.getContext('2d');
                        canvas.width = img.width;
                        canvas.height = img.height;
                        context.drawImage(img, 0, 0);
                        
                        // Referans fotoƒürafa ba≈ülƒ±k ekle - REFERANS OLACAK FOTOƒûRAF
                        context.font = 'bold 28px Arial';
                        context.fillStyle = 'white';
                        context.textAlign = 'center';
                        context.shadowColor = 'black';
                        context.shadowBlur = 8;
                        context.shadowOffsetX = 2;
                        context.shadowOffsetY = 2;
                        context.fillText('REFERANS OLACAK FOTOƒûRAF', canvas.width / 2, 50);
                        
                        userSelection.referencePhoto = canvas.toDataURL('image/jpeg', 0.9);
                        
                        const preview = document.getElementById('reference-photo-preview');
                        preview.src = userSelection.referencePhoto;
                        preview.style.display = 'block';
                        preview.style.maxWidth = '100%';
                        preview.style.maxHeight = '200px';
                        document.getElementById('next-reference-photo').disabled = false;
                    };
                    img.src = e.target.result;
                };
                reader.readAsDataURL(file);
            }
        }

        function openImageSearch() {
            const productName = userSelection.product.toLowerCase();
            const searchUrl = `https://www.google.com/search?q=${encodeURIComponent(productName + ' mobilya tasarƒ±m')}&tbm=isch`;
            window.open(searchUrl, '_blank');
            alert('L√ºtfen beƒüendiƒüiniz fotoƒürafƒ± indirip galerinize kaydedin, sonra "Galeriden Se√ß" butonu ile y√ºkleyin.');
        }

        // EKRAN Y√ñNETƒ∞Mƒ∞
        function showScreen(screenId) {
            document.querySelectorAll('.screen').forEach(screen => {
                screen.classList.remove('active');
            });
            document.getElementById(screenId).classList.add('active');
            
            if (screenId === 'screen-dimensions') {
                checkDepthVisibility();
            } else if (screenId === 'screen-cover-type') {
                loadCoverTypeOptions();
            } else if (screenId === 'screen-cover-type2') {
                loadCoverType2Options();
            } else if (screenId === 'screen-wall-photo') {
                setTimeout(startCamera, 100);
            } else if (cameraStream && screenId !== 'screen-wall-photo') {
                stopCamera();
            }
        }

        function restartApp() {
            userSelection = {
                product: '', dimensions: { width: '', height: '', depth: '' },
                doorType: '', doorGlass: '', doorCount: '',
                body: '', texture: '', coverType: '', 
                cover: '', coverTexture: '', coverType2: '', aluminumColor: '',
                drawers: '', coversCount: '', 
                glass: '', glassThickness: '', glassSurface: '',
                mirror: '', mirrorType: '', rails: '', railType: '', handle: '',
                notes: '', wallPhoto: null, referencePhoto: null,
                name: '', phone: '', address: ''
            };
            
            document.querySelectorAll('.product-btn, .option-btn, .sub-option-btn').forEach(btn => {
                btn.classList.remove('selected');
            });
            document.querySelectorAll('input, textarea').forEach(input => {
                input.value = '';
            });
            document.querySelectorAll('.photo-preview').forEach(preview => {
                preview.style.display = 'none';
            });
            document.getElementById('wall-photo-preview-container').style.display = 'none';
            document.getElementById('mirror-options').style.display = 'none';
            document.getElementById('rail-type-options').style.display = 'none';
            document.getElementById('glass-details').style.display = 'none';
            document.getElementById('glass-surface-options').style.display = 'none';
            document.getElementById('depth-section').style.display = 'block';
            document.querySelectorAll('.next-btn').forEach(btn => {
                btn.disabled = true;
            });
            showScreen('screen-product');
        }

        function downloadPhotos() {
            if (userSelection.wallPhoto) {
                const link = document.createElement('a');
                link.href = userSelection.wallPhoto;
                link.download = `uygulama-alani-${Date.now()}.jpg`;
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
            }
            
            setTimeout(() => {
                if (userSelection.referencePhoto) {
                    const link = document.createElement('a');
                    link.href = userSelection.referencePhoto;
                    link.download = `referans-fotograf-${Date.now()}.jpg`;
                    document.body.appendChild(link);
                    link.click();
                    document.body.removeChild(link);
                }
            }, 500);
        }

        // WHATSAPP FONKSƒ∞YONU - GELƒ∞≈ûTƒ∞Rƒ∞LMƒ∞≈û HATIRLATMA MESAJLI
        function sendToWhatsApp() {
            let message = `üè† Usta AI Fiyat Talebi\n\n`;
            message += `üë§ M√º≈üteri Bilgileri:\n`;
            message += `Ad Soyad: ${userSelection.name}\n`;
            message += `Telefon: ${userSelection.phone}\n`;
            message += `Adres: ${userSelection.address}\n\n`;
            message += `üì¶ √úr√ºn Detaylarƒ±:\n`;
            message += `√úr√ºn: ${userSelection.product}\n`;
            message += `√ñl√ß√ºler: ${userSelection.dimensions.width}x${userSelection.dimensions.height}`;
            if (userSelection.dimensions.depth) message += `x${userSelection.dimensions.depth}`;
            message += ` cm\n`;
            
            if (userSelection.product === 'ODA KAPISI') {
                message += `Kapƒ± Tipi: ${userSelection.doorType}\n`;
                message += `Cam: ${userSelection.doorGlass}\n`;
                message += `Adet: ${userSelection.doorCount}\n`;
            } else {
                if (userSelection.body) message += `G√∂vde: ${userSelection.body}\n`;
                if (userSelection.texture) message += `Doku: ${userSelection.texture}\n`;
                if (userSelection.coverType) message += `Kapak T√ºr√º: ${userSelection.coverType}\n`;
                if (userSelection.cover) message += `Kapak: ${userSelection.cover}\n`;
                if (userSelection.coverTexture) message += `Kapak Doku: ${userSelection.coverTexture}\n`;
                if (userSelection.coverType2) message += `Kapak T√ºr√º 2: ${userSelection.coverType2}\n`;
                if (userSelection.aluminumColor) message += `Al√ºminyum Renk: ${userSelection.aluminumColor}\n`;
                if (userSelection.drawers) message += `√áekmece: ${userSelection.drawers} adet\n`;
                if (userSelection.coversCount) message += `Kapak: ${userSelection.coversCount} adet\n`;
                
                if (userSelection.glass) {
                    message += `Cam: ${userSelection.glass}`;
                    if (userSelection.glassThickness) message += ` (${userSelection.glassThickness}`;
                    if (userSelection.glassSurface) message += ` - ${userSelection.glassSurface}`;
                    if (userSelection.glassThickness) message += `)`;
                    message += `\n`;
                }
                
                if (userSelection.mirror) {
                    message += `Ayna: ${userSelection.mirror}`;
                    if (userSelection.mirrorType) message += ` (${userSelection.mirrorType})`;
                    message += `\n`;
                }
                if (userSelection.rails) {
                    message += `Ray: ${userSelection.rails}`;
                    if (userSelection.railType) message += ` (${userSelection.railType})`;
                    message += `\n`;
                }
                if (userSelection.handle) message += `Kulp: ${userSelection.handle}\n`;
            }
            
            if (userSelection.notes) {
                message += `\nüìù √ñzel Notlar:\n${userSelection.notes}\n`;
            }
            
            // GELƒ∞≈ûTƒ∞Rƒ∞LMƒ∞≈û FOTOƒûRAF HATIRLATMA MESAJI
            message += `\nüì∏ **FOTOƒûRAF HATIRLATMASI** üì∏\n`;
            message += `√áEKƒ∞LEN FOTOƒûRAF VE REFERANS FOTOƒûRAFLARI G√ñNDERMEYƒ∞ UNUTMAYINIZ!\n\n`;
            
            if (userSelection.wallPhoto && userSelection.referencePhoto) {
                message += `‚úÖ ƒ∞ki fotoƒüraf da otomatik olarak indirilecek:\n`;
                message += `‚Ä¢ "UYGULAMANIN YAPILACAƒûI ALAN" - Duvar fotoƒürafƒ±\n`;
                message += `‚Ä¢ "REFERANS OLACAK FOTOƒûRAF" - Beƒüendiƒüiniz model\n\n`;
            } else if (userSelection.wallPhoto) {
                message += `‚úÖ "UYGULAMANIN YAPILACAƒûI ALAN" fotoƒürafƒ± otomatik indirilecek\n\n`;
            } else if (userSelection.referencePhoto) {
                message += `‚úÖ "REFERANS OLACAK FOTOƒûRAF" otomatik indirilecek\n\n`;
            } else {
                message += `‚ÑπÔ∏è Fotoƒüraf √ßekmediyseniz veya y√ºklemediyseniz, bu adƒ±mƒ± atlayabilirsiniz.\n\n`;
            }
            
            message += `üì± **Yapmanƒ±z Gerekenler:**\n`;
            message += `1. ƒ∞ndirilen fotoƒüraflarƒ± bulun\n`;
            message += `2. WhatsApp'ta bu mesaja fotoƒüraflarƒ± ekleyin\n`;
            message += `3. Mesajƒ± g√∂nderin\n\n`;
            
            message += `üìû Detaylƒ± fiyatlandƒ±rma i√ßin ileti≈üime ge√ßelim!`;
            
            const phone = '905340550450';
            const whatsappUrl = `https://wa.me/${phone}?text=${encodeURIComponent(message)}`;
            
            window.open(whatsappUrl, '_blank');
            
            // GELƒ∞≈ûTƒ∞Rƒ∞LMƒ∞≈û ALERT MESAJI
            let alertMessage = '‚úÖ WhatsApp mesajƒ± a√ßƒ±ldƒ±!\n\n';
            
            if (userSelection.wallPhoto && userSelection.referencePhoto) {
                alertMessage += 'üì∏ ƒ∞ki fotoƒüraf otomatik indirilecek:\n';
                alertMessage += '‚Ä¢ "UYGULAMANIN YAPILACAƒûI ALAN"\n';
                alertMessage += '‚Ä¢ "REFERANS OLACAK FOTOƒûRAF"\n\n';
            } else if (userSelection.wallPhoto) {
                alertMessage += 'üì∏ "UYGULAMANIN YAPILACAƒûI ALAN" fotoƒürafƒ± indirilecek\n\n';
            } else if (userSelection.referencePhoto) {
                alertMessage += 'üì∏ "REFERANS OLACAK FOTOƒûRAF" indirilecek\n\n';
            }
            
            alertMessage += 'üì± L√ºtfen indirilen fotoƒüraflarƒ± WhatsApp sohbetine manuel olarak ekleyin!';
            
            setTimeout(() => {
                alert(alertMessage);
            }, 500);
            
            setTimeout(() => {
                downloadPhotos();
            }, 1000);
        }

        function updateSummary() {
            document.getElementById('summary-product').textContent = userSelection.product;
            document.getElementById('summary-dimensions').textContent = 
                `${userSelection.dimensions.width}x${userSelection.dimensions.height}` +
                (userSelection.dimensions.depth ? `x${userSelection.dimensions.depth}` : '') + ` cm`;
            document.getElementById('summary-name').textContent = userSelection.name;
            document.getElementById('summary-phone').textContent = userSelection.phone;
            document.getElementById('summary-address').textContent = userSelection.address;
            
            let doorDetails = '';
            let otherDetails = '';
            let glassDetails = '';
            let notesDetails = '';
            let photoDetails = '';
            
            if (userSelection.product === 'ODA KAPISI') {
                doorDetails = `
                    <div><strong>Kapƒ± Tipi:</strong> ${userSelection.doorType}</div>
                    <div><strong>Cam:</strong> ${userSelection.doorGlass}</div>
                    <div><strong>Adet:</strong> ${userSelection.doorCount}</div>
                `;
            } else {
                otherDetails = `
                    ${userSelection.body ? `<div><strong>G√∂vde:</strong> ${userSelection.body}</div>` : ''}
                    ${userSelection.texture ? `<div><strong>Doku:</strong> ${userSelection.texture}</div>` : ''}
                    ${userSelection.coverType ? `<div><strong>Kapak T√ºr√º:</strong> ${userSelection.coverType}</div>` : ''}
                    ${userSelection.cover ? `<div><strong>Kapak:</strong> ${userSelection.cover}</div>` : ''}
                    ${userSelection.coverTexture ? `<div><strong>Kapak Doku:</strong> ${userSelection.coverTexture}</div>` : ''}
                    ${userSelection.coverType2 ? `<div><strong>Kapak T√ºr√º 2:</strong> ${userSelection.coverType2}</div>` : ''}
                    ${userSelection.aluminumColor ? `<div><strong>Al√ºminyum Renk:</strong> ${userSelection.aluminumColor}</div>` : ''}
                    ${userSelection.drawers ? `<div><strong>√áekmece:</strong> ${userSelection.drawers} adet</div>` : ''}
                    ${userSelection.coversCount ? `<div><strong>Kapak:</strong> ${userSelection.coversCount} adet</div>` : ''}
                    ${userSelection.mirror ? `<div><strong>Ayna:</strong> ${userSelection.mirror} ${userSelection.mirrorType ? '(' + userSelection.mirrorType + ')' : ''}</div>` : ''}
                    ${userSelection.rails ? `<div><strong>Ray:</strong> ${userSelection.rails} ${userSelection.railType ? '(' + userSelection.railType + ')' : ''}</div>` : ''}
                    ${userSelection.handle ? `<div><strong>Kulp:</strong> ${userSelection.handle}</div>` : ''}
                `;
            }
            
            if (userSelection.glass) {
                glassDetails = `<div><strong>Cam:</strong> ${userSelection.glass}`;
                if (userSelection.glassThickness) glassDetails += ` (${userSelection.glassThickness}`;
                if (userSelection.glassSurface) glassDetails += ` - ${userSelection.glassSurface}`;
                if (userSelection.glassThickness) glassDetails += `)`;
                glassDetails += `</div>`;
            }
            
            if (userSelection.notes) {
                notesDetails = `<div><strong>√ñzel Notlar:</strong> ${userSelection.notes}</div>`;
            }
            
            if (userSelection.wallPhoto) {
                photoDetails += `<div class="section-title">Uygulama Alanƒ± Fotoƒürafƒ±</div>`;
                photoDetails += `<img src="${userSelection.wallPhoto}" class="photo-summary" alt="Uygulama Alanƒ±">`;
            }
            if (userSelection.referencePhoto) {
                photoDetails += `<div class="section-title">Referans Fotoƒüraf</div>`;
                photoDetails += `<img src="${userSelection.referencePhoto}" class="photo-summary" alt="Referans Fotoƒüraf">`;
            }
            
            document.getElementById('door-details').innerHTML = doorDetails;
            document.getElementById('other-details').innerHTML = otherDetails;
            document.getElementById('glass-details-summary').innerHTML = glassDetails;
            document.getElementById('notes-details').innerHTML = notesDetails;
            document.getElementById('photo-details').innerHTML = photoDetails;
        }

        // EVENT LISTENERS
        document.addEventListener('DOMContentLoaded', function() {
            // √úr√ºn se√ßimi
            document.querySelectorAll('.product-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('.product-btn').forEach(b => b.classList.remove('selected'));
                    this.classList.add('selected');
                    userSelection.product = this.dataset.product;
                    document.getElementById('next-product').disabled = false;
                });
            });

            // √ñl√ß√º giri≈üleri
            document.getElementById('input-width').addEventListener('input', function() {
                userSelection.dimensions.width = this.value;
                updateDimensionsButton();
            });

            document.getElementById('input-height').addEventListener('input', function() {
                userSelection.dimensions.height = this.value;
                updateDimensionsButton();
            });

            document.getElementById('input-depth').addEventListener('input', function() {
                userSelection.dimensions.depth = this.value;
                updateDimensionsButton();
            });

            function updateDimensionsButton() {
                const nextBtn = document.getElementById('next-dimensions');
                const noDepthProducts = ['MUTFAK DOLABI', 'DUVAR PANELƒ∞', 'ODA KAPISI'];
                const hasDepth = noDepthProducts.includes(userSelection.product) ? true : userSelection.dimensions.depth;
                
                nextBtn.disabled = !(userSelection.dimensions.width && userSelection.dimensions.height && hasDepth);
            }

            // Kapƒ± tipi
            document.querySelectorAll('#screen-door-type .option-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('#screen-door-type .option-btn').forEach(b => b.classList.remove('selected'));
                    this.classList.add('selected');
                    userSelection.doorType = this.dataset.type;
                    document.getElementById('next-door-type').disabled = false;
                });
            });

            // Kapƒ± cam durumu
            document.querySelectorAll('#screen-door-glass .option-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('#screen-door-glass .option-btn').forEach(b => b.classList.remove('selected'));
                    this.classList.add('selected');
                    userSelection.doorGlass = this.dataset.glass;
                    document.getElementById('next-door-glass').disabled = false;
                });
            });

            // Kapƒ± sayƒ±sƒ±
            document.getElementById('input-door-count').addEventListener('input', function() {
                userSelection.doorCount = this.value;
                document.getElementById('next-door-count').disabled = !this.value;
            });

            // G√∂vde malzemesi
            document.querySelectorAll('#screen-body .option-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('#screen-body .option-btn').forEach(b => b.classList.remove('selected'));
                    this.classList.add('selected');
                    userSelection.body = this.dataset.body;
                    document.getElementById('next-body').disabled = false;
                });
            });

            // Y√ºzey dokusu
            document.querySelectorAll('#screen-texture .option-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('#screen-texture .option-btn').forEach(b => b.classList.remove('selected'));
                    this.classList.add('selected');
                    userSelection.texture = this.dataset.texture;
                    document.getElementById('next-texture').disabled = false;
                });
            });

            // Kapaklar
            document.querySelectorAll('#screen-covers .option-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('#screen-covers .option-btn').forEach(b => b.classList.remove('selected'));
                    this.classList.add('selected');
                    userSelection.cover = this.dataset.cover;
                    document.getElementById('next-covers').disabled = false;
                });
            });

            // Kapak y√ºzey dokusu
            document.querySelectorAll('#screen-cover-texture .option-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('#screen-cover-texture .option-btn').forEach(b => b.classList.remove('selected'));
                    this.classList.add('selected');
                    userSelection.coverTexture = this.dataset.covertexture;
                    document.getElementById('next-cover-texture').disabled = false;
                });
            });

            // Al√ºminyum renk
            document.querySelectorAll('#screen-aluminum-color .option-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('#screen-aluminum-color .option-btn').forEach(b => b.classList.remove('selected'));
                    this.classList.add('selected');
                    userSelection.aluminumColor = this.dataset.color;
                    document.getElementById('next-aluminum-color').disabled = false;
                });
            });

            // Sayƒ±lar
            document.getElementById('input-drawers').addEventListener('input', function() {
                userSelection.drawers = this.value;
                updateCountsButton();
            });

            document.getElementById('input-covers-count').addEventListener('input', function() {
                userSelection.coversCount = this.value;
                updateCountsButton();
            });

            function updateCountsButton() {
                document.getElementById('next-counts').disabled = !(userSelection.drawers || userSelection.coversCount);
            }

            // AKSESUARLAR - CAM (TEK EKRANDA)
            document.querySelectorAll('#screen-accessories .option-btn[data-glass]').forEach(btn => {
                btn.addEventListener('click', function() {
                    const group = this.closest('.option-grid');
                    group.querySelectorAll('.option-btn').forEach(b => b.classList.remove('selected'));
                    this.classList.add('selected');
                    
                    userSelection.glass = this.dataset.glass;
                    const glassDetails = document.getElementById('glass-details');
                    
                    if (this.dataset.glass === 'CAMLI') {
                        glassDetails.style.display = 'block';
                        userSelection.glassThickness = '';
                        userSelection.glassSurface = '';
                        document.querySelectorAll('#glass-details .option-btn').forEach(b => b.classList.remove('selected'));
                        document.getElementById('glass-surface-options').style.display = 'none';
                    } else {
                        glassDetails.style.display = 'none';
                        userSelection.glassThickness = '';
                        userSelection.glassSurface = '';
                    }
                    
                    document.getElementById('next-accessories').disabled = false;
                });
            });

            // CAM KALINLIƒûI SE√áƒ∞Mƒ∞
            document.querySelectorAll('#glass-details .option-btn[data-thickness]').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('#glass-details .option-btn[data-thickness]').forEach(b => b.classList.remove('selected'));
                    this.classList.add('selected');
                    
                    userSelection.glassThickness = this.dataset.thickness;
                    const surfaceOptions = document.getElementById('glass-surface-options');
                    
                    if (this.dataset.thickness === '4 MM') {
                        surfaceOptions.style.display = 'block';
                        userSelection.glassSurface = '';
                        document.querySelectorAll('#glass-surface-options .option-btn').forEach(b => b.classList.remove('selected'));
                    } else {
                        surfaceOptions.style.display = 'none';
                        userSelection.glassSurface = 'D√úZ';
                    }
                });
            });

            // CAM Y√úZEY SE√áƒ∞Mƒ∞
            document.querySelectorAll('#glass-surface-options .option-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('#glass-surface-options .option-btn').forEach(b => b.classList.remove('selected'));
                    this.classList.add('selected');
                    userSelection.glassSurface = this.dataset.surface;
                });
            });

            // Aksesuarlar - Ayna
            document.querySelectorAll('#screen-accessories .option-btn[data-mirror]').forEach(btn => {
                btn.addEventListener('click', function() {
                    const group = this.closest('.option-grid');
                    group.querySelectorAll('.option-btn').forEach(b => b.classList.remove('selected'));
                    this.classList.add('selected');
                    
                    userSelection.mirror = this.dataset.mirror;
                    if (this.dataset.mirror === 'AYNALI') {
                        document.getElementById('mirror-options').style.display = 'block';
                    } else {
                        document.getElementById('mirror-options').style.display = 'none';
                        userSelection.mirrorType = '';
                    }
                });
            });

            // Aksesuarlar - Ray
            document.querySelectorAll('#screen-accessories .option-btn[data-rails]').forEach(btn => {
                btn.addEventListener('click', function() {
                    const group = this.closest('.option-grid');
                    group.querySelectorAll('.option-btn').forEach(b => b.classList.remove('selected'));
                    this.classList.add('selected');
                    
                    userSelection.rails = this.dataset.rails;
                    document.getElementById('rail-type-options').style.display = 'block';
                });
            });

            // Aksesuarlar - Kulp
            document.querySelectorAll('#screen-accessories .option-btn[data-handle]').forEach(btn => {
                btn.addEventListener('click', function() {
                    const group = this.closest('.option-grid');
                    group.querySelectorAll('.option-btn').forEach(b => b.classList.remove('selected'));
                    this.classList.add('selected');
                    userSelection.handle = this.dataset.handle;
                });
            });

            // Ayna tipi
            document.querySelectorAll('#mirror-options .option-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('#mirror-options .option-btn').forEach(b => b.classList.remove('selected'));
                    this.classList.add('selected');
                    userSelection.mirrorType = this.dataset.mirrortype;
                });
            });

            // Ray tipi
            document.querySelectorAll('#rail-type-options .sub-option-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('#rail-type-options .sub-option-btn').forEach(b => b.classList.remove('selected'));
                    this.classList.add('selected');
                    userSelection.railType = this.dataset.railtype;
                });
            });

            // Diƒüer bilgiler
            document.getElementById('input-notes').addEventListener('input', function() {
                userSelection.notes = this.value;
                document.getElementById('next-other-info').disabled = !this.value.trim();
            });

            // Ki≈üisel bilgiler
            document.getElementById('input-name').addEventListener('input', function() {
                userSelection.name = this.value;
                updatePersonalButton();
            });

            document.getElementById('input-phone').addEventListener('input', function() {
                userSelection.phone = this.value;
                updatePersonalButton();
            });

            document.getElementById('input-address').addEventListener('input', function() {
                userSelection.address = this.value;
                updatePersonalButton();
            });

            function updatePersonalButton() {
                const nextBtn = document.getElementById('next-personal');
                nextBtn.disabled = !(userSelection.name && userSelection.phone && userSelection.address);
            }

            // NEXT BUTONLARI
            document.getElementById('next-product').addEventListener('click', function() {
                if (userSelection.product === 'Dƒ∞ƒûERLERƒ∞') {
                    showScreen('screen-other-info');
                } else if (userSelection.product === 'ODA KAPISI') {
                    showScreen('screen-dimensions');
                } else {
                    showScreen('screen-dimensions');
                }
            });

            document.getElementById('next-dimensions').addEventListener('click', function() {
                if (userSelection.product === 'ODA KAPISI') {
                    showScreen('screen-door-type');
                } else {
                    showScreen('screen-body');
                }
            });

            // Kapƒ± akƒ±≈üƒ±
            document.getElementById('next-door-type').addEventListener('click', () => showScreen('screen-door-glass'));
            document.getElementById('next-door-glass').addEventListener('click', () => showScreen('screen-door-count'));
            document.getElementById('next-door-count').addEventListener('click', () => showScreen('screen-other-info'));

            // Diƒüer √ºr√ºnler akƒ±≈üƒ±
            document.getElementById('next-body').addEventListener('click', () => showScreen('screen-texture'));
            document.getElementById('next-texture').addEventListener('click', () => showScreen('screen-cover-type'));
            document.getElementById('next-cover-type').addEventListener('click', () => showScreen('screen-covers'));
            document.getElementById('next-covers').addEventListener('click', function() {
                if (userSelection.cover === 'AL√úMƒ∞NYUM √áER√áEVE KAPAK') {
                    showScreen('screen-aluminum-color');
                } else {
                    showScreen('screen-cover-texture');
                }
            });
            document.getElementById('next-cover-texture').addEventListener('click', () => showScreen('screen-cover-type2'));
            document.getElementById('next-cover-type2').addEventListener('click', () => showScreen('screen-counts'));
            document.getElementById('next-aluminum-color').addEventListener('click', () => showScreen('screen-counts'));
            document.getElementById('next-counts').addEventListener('click', () => showScreen('screen-accessories'));
            
            // Aksesuarlardan sonra
            document.getElementById('next-accessories').addEventListener('click', () => showScreen('screen-other-info'));

            // Fotoƒüraf akƒ±≈üƒ±
            document.getElementById('next-other-info').addEventListener('click', () => showScreen('screen-wall-photo'));
            document.getElementById('next-wall-photo').addEventListener('click', () => showScreen('screen-reference-photo'));
            document.getElementById('next-reference-photo').addEventListener('click', () => showScreen('screen-personal'));

            document.getElementById('next-personal').addEventListener('click', function() {
                updateSummary();
                showScreen('screen-whatsapp');
            });

            // GERƒ∞ BUTONLARI
            document.getElementById('back-other-info').addEventListener('click', function() {
                if (userSelection.product === 'ODA KAPISI') {
                    showScreen('screen-door-count');
                } else if (userSelection.glass === 'CAMLI') {
                    showScreen('screen-accessories');
                } else {
                    showScreen('screen-accessories');
                }
            });

            document.getElementById('back-counts').addEventListener('click', function() {
                if (userSelection.cover === 'AL√úMƒ∞NYUM √áER√áEVE KAPAK') {
                    showScreen('screen-aluminum-color');
                } else if (userSelection.cover === 'HAM MDF' || userSelection.cover === 'MDF LAM') {
                    showScreen('screen-cover-type2');
                } else {
                    showScreen('screen-covers');
                }
            });
        });
    </script>
</body>
</html>